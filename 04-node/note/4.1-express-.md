# express

#### introduction

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 
 * 
 * 
 * 
 */

1) express              // 生态圈相较完整

    npm i express

2) koa2                 // 接口更丰富，友好

3) ...


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * http module
 * 
 * 
 * 1) 根据不同的请求路径，请求方法，做不同的事情，处理起来比较麻烦
 * 2) 读取请求体和写入响应体是通过流的方式，比较麻烦
 */


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### express basic

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 配置请求映射，根绝不同的请求( 若请求方法和路径均满足后 )，匹配不同的处理函数
 *
 *
 * const app = express();
 * app.method(path, fn);
 */

/**
 * REST STYLE API
 *
 *
 * /api/test    post        根据不同方法执行不同的请求
 *              get
 *              put
 *              delete
 *              ...
 *
 *              all                     匹配所有方法
 *
 *              all('*', ()=>{});       匹配所有路径
 */


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### nodemon

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * nodemon              // 监听文件变化， 当文件内容发生改变时自动更新并重新执行文件
 *
 *
 * npm i -D nodemon
 *
 ** 利用 nodemon.json 扩展细节配置
 */

npx nodemo index.js

// package.json

"scripts": {
    "start": "nodemon --x npm run server",
    "server": "node index"
}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### express middleware

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 
 * 
 * 
 * 
 */
 
                  Request 
                     |
        + ------------------------- +
        |                           |
        |    exprress_middleware    | --->  response
        |                           |
        + ------------------------- +
                     |
                    \|/
        + ------------------------- +
        |                           |
        |    exprress_middleware    | --->  response
        |                           |
        + ------------------------- +
                     |
                    \|/
        + ------------------------- +
        |                           |
        |         ... ...           |
        |                           |
        + ------------------------- +
                     |


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```






